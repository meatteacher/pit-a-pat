<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="./../static/css/Content.css">
    <link rel="stylesheet" href="./../static/css/Home.css">
</head>
<body>
<div class="content">
    <!--    메인배너    -->
    <div class="main-banner">
        <div class="banner-image">
            <img src="https://images.unsplash.com/photo-1558788353-f76d92427f16?auto=format&fit=crop&w=600&q=80" alt="강아지 이미지">
        </div>
        <div class="banner-content">
            <h2 class="title">우리집 강아지 성격은?</h2>
            <p class="subtitle">간단한 테스트로 우리강아지 유형을 알아보자!</p>
            <a href="/dog-test" class="banner-button">보러가기</a>
        </div>
    </div>
    <!--    우리동네 인기 멍스타    -->
    <!--
    <div class="popular-dog">
        <span class="p_dog_title">우리동네 인기 멍스타</span>
        <div class="dog_slid">
            <div class="p_dog">
                <div class="dog_img">
                </div>
                <div class="name_hart">
                    <span class="dog_name">강군</span>
                    <div class="hart_icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22.903" height="20.232" viewBox="0 0 22.903 20.232">
                            <g id="heart" transform="translate(1 1)">
                                <path id="heart-2" data-name="heart" d="M20.84,4.61a5.5,5.5,0,0,0-7.78,0L12,5.67,10.94,4.61a5.5,5.5,0,0,0-7.78,7.78l1.06,1.06L12,21.23l7.78-7.78,1.06-1.06a5.5,5.5,0,0,0,0-7.78Z" transform="translate(-1.549 -2.998)" fill="inherit" stroke="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                            </g>
                        </svg>
                    </div>
                </div>
                <div class="keyword">
                    <span class="white_label">중성화</span>
                    <span class="blue_label">활발한</span>
                    <span class="blue_label">외향적</span>
                </div>
            </div>
        </div>
    </div>  -->
    <div class="popular-dog">
        <span class="p_dog_title">우리동네 인기 멍스타</span>
        <div class="dog-slider-wrapper">
            <div class="dog-slider-track" id="sliderTrack">
                <!-- 카드 JS에서 삽입 -->
            </div>
        </div>
    </div>

    <!--    중간 배너   -->
    <div class="mid_banner"></div>

    <!--  모임  -->
    <span class="dog_group_title">강아지 모임</span>
    <div class="dog_group" id="D_group">
        <!-- groupList는 Script로 생성 주석안에 예시 -->
    <!--
        <div class="group_list">
            <div class="group1">
                <div class="groupImg"></div>
                <div class="groupInfo">
                    <div class="g_title">내향적 강아지 모임</div>
                    <div class="g_sub_title">주인이 끌고와서 억지로 여기있는거다</div>
                    <div class="g_keyword1">
                        <label class="g_city">역삼동</label>
                        <label class="g_label">내향적</label>
                        <label class="g_label">동네 산책</label>
                    </div>
                    <div class="g_keyword2">
                        <label class="g_label">간식 나눔</label>
                        <label class="g_label">침목</label>
                    </div>
                    <div class="g_member">
                        <div class="member1"></div>
                        <div class="member1"></div>
                        <div class="member1"></div>
                        <div class="member1"></div>
                    </div>
                    <div class="g_member_count">
                        <span>10명 참여 중</span>
                    </div>
                </div>
            </div>
        </div>
        -->
    </div>

    <div class="more_group_btn">
        <span>모임 더 보러가기</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="6.347" height="11.894" viewBox="0 0 6.347 11.894">
            <path id="패스_83331" data-name="패스 83331" d="M.5,9.572,4.436,5.036.5.5" transform="translate(0.911 0.911)" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
        </svg>
    </div>
</div>

<footer></footer>

<script>
    //인기 멍스타
    const dogsData = [
        { name: "강군", image: "https://via.placeholder.com/260x220/f5f5f5/333?text=강군", liked: true, keywords: [
                { label: "중성화", type: "white" }, { label: "외향적", type: "blue" }, { label: "다 놀아", type: "blue" }] },
        { name: "또또", image: "https://via.placeholder.com/260x220/f5f5f5/333?text=또또", liked: false, keywords: [
                { label: "성별", type: "white" }, { label: "차분", type: "blue" }, { label: "소형견", type: "blue" }] },
        { name: "월이", image: "https://via.placeholder.com/260x220/f5f5f5/333?text=월이", liked: false, keywords: [
                { label: "암컷", type: "white" }, { label: "명랑", type: "blue" }, { label: "순함", type: "blue" }] },
    ];

    const sliderTrack = document.getElementById('sliderTrack');

    // 카드 생성 함수
    function createCard(dog) {
        const card = document.createElement('div');
        card.className = 'p_dog';
        card.innerHTML = `
        <div class="dog_img" style="background-image: url('${dog.image}')"></div>
        <div class="name_hart">
          <span class="dog_name">${dog.name}</span>
          <div class="hart_icon${dog.liked ? ' active' : ''}">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" viewBox="0 0 22.903 20.232">
              <path d="M20.84,4.61a5.5,5.5,0,0,0-7.78,0L12,5.67,10.94,4.61a5.5,5.5,0,0,0-7.78,7.78l1.06,1.06L12,21.23l7.78-7.78,1.06-1.06a5.5,5.5,0,0,0,0-7.78Z"
              transform="translate(-1.549 -2.998)" fill="inherit" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
            </svg>
          </div>
        </div>
        <div class="keyword">
          ${dog.keywords.map(k => `<span class="${k.type === 'white' ? 'white_label' : 'blue_label'}">${k.label}</span>`).join('')}
        </div>
      `;
        return card;
    }

    // 카드 2세트 반복 렌더링 (자연스럽게 반복하기 위해)
    for (let i = 0; i < 2; i++) {
        dogsData.forEach(dog => {
            sliderTrack.appendChild(createCard(dog));
        });
    }
    // 모임//////////
    // 모임 데이터 배열
    const groupsData = [
        {
            id: 1,
            title: "내향적 강아지 모임",
            subTitle: "주인이 끌고 와서 억지로 여기 있는 거다",
            city: "역삼동",
            keywords: ["내향적", "동네 산책", "간식 나눔", "침목"],
            memberCount: 12,
            imgSrc: "https://via.placeholder.com/250x180/f5f5f5/333?text=강아지+모임",
            memberImgs: [
                "https://via.placeholder.com/30x30/f5f5f5/333?text=1",
                "https://via.placeholder.com/30x30/f5f5f5/333?text=2",
                "https://via.placeholder.com/30x30/f5f5f5/333?text=3"
            ]
        },
        {
            id: 2,
            title: "리트리버 모임",
            subTitle: "물속성 리트리버와 산책에 빠진 모임",
            city: "잠실동",
            keywords: ["순찰", "동네 산책", "리트리버", "친목"],
            memberCount: 23,
            imgSrc: "https://via.placeholder.com/250x180/f5f5f5/333?text=리트리버",
            memberImgs: [
                "https://via.placeholder.com/30x30/f5f5f5/333?text=1",
                "https://via.placeholder.com/30x30/f5f5f5/333?text=2",
                "https://via.placeholder.com/30x30/f5f5f5/333?text=3"
            ]
        },
        {
            id: 3,
            title: "외향적 강아지 모임",
            subTitle: "우리 주인은 왜 밖으로 안나가지? 나는 나가고싶다.",
            city: "역삼동",
            keywords: ["외향적", "동네 산책", "간식 나눔", "활동적"],
            memberCount: 36,
            imgSrc: "https://via.placeholder.com/250x180/f5f5f5/333?text=외향적+강아지",
            memberImgs: [
                "https://via.placeholder.com/30x30/f5f5f5/333?text=1",
                "https://via.placeholder.com/30x30/f5f5f5/333?text=2",
                "https://via.placeholder.com/30x30/f5f5f5/333?text=3"
            ]
        },
        {
            id: 4,
            title: "대형견 산악회",
            subTitle: "대형견과 함깨하는 등산 모임",
            city: "도봉",
            keywords: ["활동적", "등산", "국토대장정", "산 정복"],
            memberCount: 8,
            imgSrc: "https://via.placeholder.com/250x180/f5f5f5/333?text=대형견",
            memberImgs: [
                "https://via.placeholder.com/30x30/f5f5f5/333?text=1",
                "https://via.placeholder.com/30x30/f5f5f5/333?text=2",
                "https://via.placeholder.com/30x30/f5f5f5/333?text=3"
            ]
        }
    ];

    // DOM이 로드되면 실행
    document.addEventListener('DOMContentLoaded', function() {
        // 모임 카드 생성 및 표시
        renderGroups(groupsData);
    });

    // 모임 카드 렌더링 함수
    function renderGroups(groups) {
        const dog_group = document.getElementById('D_group');
        dog_group.innerHTML = '';

        groups.forEach(group => {
            const groupElement = createGroupElement(group);
            dog_group.appendChild(groupElement);
        });
    }

    // 모임 카드 엘리먼트 생성 함수
    function createGroupElement(group) {
        const groupDiv = document.createElement('div');
        groupDiv.className = 'group';

        // 회원 프로필 이미지 HTML 생성
        let membersHTML = '';

        group.memberImgs.forEach(img => {
            membersHTML += `<div class="member1" style="background-image: url('${img}');"></div>`;
        });
        membersHTML += `<div class="more-members">...</div>`;

        // 키워드 분리
        const cityTag = `<label class="g_city">${group.city}</label>`;
        let keywordsHTML1 = '';
        let keywordsHTML2 = '';

        group.keywords.forEach((keyword, index) => {
            if (index < 2) {
                keywordsHTML1 += `<label class="g_label">${keyword}</label>`;
            } else {
                keywordsHTML2 += `<label class="g_label">${keyword}</label>`;
            }
        });

        // 그룹 카드 내용 구성
        groupDiv.innerHTML = `
        <div class="group_list">
            <div class="group1">
                <div class="groupImg" style="background-image: url('${group.imgSrc}');"></div>
                <div class="groupInfo">
                    <div>
                        <div class="g_title">${group.title}</div>
                        <div class="g_sub_title">${group.subTitle}</div>
                        <div class="g_keyword1">
                            ${cityTag}
                            ${keywordsHTML1}
                        </div>
                        <div class="g_keyword2">
                            ${keywordsHTML2}
                        </div>
                    </div>
                    <div>
                        <div class="g_member">
                            ${membersHTML}
                        </div>
                        <div class="g_member_count">${group.memberCount}명 참여 중</div>
                    </div>
                </div>
            </div>
        </div>
    `;

        return groupDiv;
    }

    // 필터링 함수
    function filterGroups(category) {
        if (category === 'all') {
            renderGroups(groupsData);
            return;
        }

        const filteredGroups = groupsData.filter(group => group.category === category);
        renderGroups(filteredGroups);
    }

    // 검색 기능
    document.querySelector('.search input').addEventListener('keyup', function(e) {
        if (e.key === 'Enter') {
            const searchTerm = this.value.trim().toLowerCase();

            if (searchTerm === '') {
                renderGroups(groupsData);
                return;
            }

            const searchResults = groupsData.filter(group =>
                group.title.toLowerCase().includes(searchTerm) ||
                group.subTitle.toLowerCase().includes(searchTerm) ||
                group.keywords.some(keyword => keyword.toLowerCase().includes(searchTerm))
            );

            renderGroups(searchResults);
        }
    });

    // 검색 버튼 클릭 이벤트
    document.querySelector('.search button').addEventListener('click', function() {
        const searchTerm = document.querySelector('.search input').value.trim().toLowerCase();

        if (searchTerm === '') {
            renderGroups(groupsData);
            return;
        }

        const searchResults = groupsData.filter(group =>
            group.title.toLowerCase().includes(searchTerm) ||
            group.subTitle.toLowerCase().includes(searchTerm) ||
            group.keywords.some(keyword => keyword.toLowerCase().includes(searchTerm))
        );

        renderGroups(searchResults);
    });
</script>

</body>
</html>